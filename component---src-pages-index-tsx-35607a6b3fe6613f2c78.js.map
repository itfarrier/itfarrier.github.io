{"version":3,"file":"component---src-pages-index-tsx-35607a6b3fe6613f2c78.js","mappings":"wKAYuC,IAIjCA,EAAU,SAAAC,GACd,SAAAD,EAAYE,GAAwB,IAAAC,EAIlC,GAHAA,EAAAF,EAAAG,KAAA,KAAMF,IAAM,KAGU,oBAAXG,OAAwB,CACjC,MAAM,gBAAEC,EAAe,UAAEC,GAAcL,EAEjCM,GAAkBC,EAAAA,EAAAA,gBAAeF,EAAWD,GAE5CI,GAAeC,EAAAA,EAAAA,YAAW,IAAIH,EAAe,MAEnDI,EAAAA,EAAAA,UAASF,EAAc,CAAEG,SAAS,GACpC,CAAC,OAAAV,CACH,CAIC,OAlBaW,EAAAA,EAAAA,GAAAd,EAAAC,GAcbD,EAAAe,UAEDC,OAAA,WACE,OAAO,IACT,EAAChB,CAAA,CAlBa,CAASiB,EAAAA,eAwCzB,UAnBkBC,KAChB,MAAM,KAAEC,IAASC,EAAAA,EAAAA,gBAAc,cAa/B,OACEC,EAAAA,EAAAA,KAACrB,EAAU,CAACM,gBAAiBa,EAAKG,aAAaC,KAAKjB,gBAAiBC,UAAWY,EAAKG,aAAaC,KAAKhB,WAAa,C","sources":["webpack://itfarrier/./src/pages/index.tsx"],"sourcesContent":["import type { Language } from 'cmpts/LanguageContext';\n\nimport { graphql, navigate, useStaticQuery, withPrefix } from 'gatsby';\nimport { getUserLangKey } from 'ptz-i18n';\nimport { type FC, PureComponent } from 'react';\nimport { type IndexQuery } from 'root/graphql-types';\nimport 'sanitize.css';\nimport 'sanitize.css/assets.css';\nimport 'sanitize.css/forms.css';\nimport 'sanitize.css/reduce-motion.css';\nimport 'sanitize.css/system-ui.css';\nimport 'sanitize.css/typography.css';\nimport 'sanitize.css/ui-monospace.css';\n\nexport type RedirectorProps = { defaultLanguage: Language; languages: Language[] };\n\nclass Redirector extends PureComponent<RedirectorProps> {\n  constructor(props: RedirectorProps) {\n    super(props);\n\n    // https://www.gatsbyjs.com/docs/debugging-html-builds/#how-to-check-if-window-is-defined\n    if (typeof window !== 'undefined') {\n      const { defaultLanguage, languages } = props;\n\n      const currentLanguage = getUserLangKey(languages, defaultLanguage);\n\n      const localizedUrl = withPrefix(`/${currentLanguage}/`);\n\n      navigate(localizedUrl, { replace: true });\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nconst Index: FC = () => {\n  const { site } = useStaticQuery<IndexQuery>(graphql`\n    query Index {\n      site {\n        siteMetadata {\n          i18n {\n            defaultLanguage\n            languages\n          }\n        }\n      }\n    }\n  `);\n\n  return (\n    <Redirector defaultLanguage={site.siteMetadata.i18n.defaultLanguage} languages={site.siteMetadata.i18n.languages} />\n  );\n};\n\nexport default Index;\n"],"names":["Redirector","_PureComponent","props","_this","call","window","defaultLanguage","languages","currentLanguage","getUserLangKey","localizedUrl","withPrefix","navigate","replace","_inheritsLoose","prototype","render","PureComponent","Index","site","useStaticQuery","_jsx","siteMetadata","i18n"],"sourceRoot":""}