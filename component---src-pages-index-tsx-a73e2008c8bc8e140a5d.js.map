{"version":3,"file":"component---src-pages-index-tsx-a73e2008c8bc8e140a5d.js","mappings":"wKAkBMA,EAAAA,SAAAA,GACJ,WAAYC,GAAyB,IAAD,EAIlC,GAHAC,EAAAA,EAAAA,KAAAA,KAAMD,IAAN,KAGsB,oBAAXE,OAAwB,CACjC,IAAQC,EAA+BH,EAA/BG,gBAAiBC,EAAcJ,EAAdI,UAEnBC,GAAkBC,EAAAA,EAAAA,gBAAeF,EAAWD,GAE5CI,GAAeC,EAAAA,EAAAA,YAAW,IAAIH,EAAL,MAE/BI,EAAAA,EAAAA,UAASF,EAAc,CAAEG,SAAS,IAXF,SAgBlC,OAjBEX,EAAAA,EAAAA,GAAAA,EAAAA,GAcH,YAEDY,OAAAA,WACE,OAAO,MAAP,EAjBEZ,CAAmBa,EAAAA,eA+CzB,UAtBkB,WAChB,IAAQC,GAASC,EAAAA,EAAAA,gBAAc,cAAvBD,KAaR,OACEE,EAAAA,EAAAA,KAAChB,EAAD,CACEI,gBAAiBU,EAAKG,aAAaC,KAAKd,gBACxCC,UAAWS,EAAKG,aAAaC,KAAKb","sources":["webpack://itfarrier/./src/pages/index.tsx"],"sourcesContent":["import 'sanitize.css';\nimport 'sanitize.css/assets.css';\nimport 'sanitize.css/forms.css';\nimport 'sanitize.css/reduce-motion.css';\nimport 'sanitize.css/system-ui.css';\nimport 'sanitize.css/typography.css';\nimport 'sanitize.css/ui-monospace.css';\nimport 'src/pages/index.module.css';\n\nimport { FC, PureComponent } from 'react';\n\nimport { graphql, navigate, useStaticQuery, withPrefix } from 'gatsby';\nimport { getUserLangKey } from 'ptz-i18n';\n\nimport { Language } from 'cmpts/LanguageContext';\n\nexport type RedirectorProps = { defaultLanguage: Language; languages: Language[] };\n\nclass Redirector extends PureComponent<RedirectorProps> {\n  constructor(props: RedirectorProps) {\n    super(props);\n\n    // https://www.gatsbyjs.com/docs/debugging-html-builds/#how-to-check-if-window-is-defined\n    if (typeof window !== 'undefined') {\n      const { defaultLanguage, languages } = props;\n\n      const currentLanguage = getUserLangKey(languages, defaultLanguage);\n\n      const localizedUrl = withPrefix(`/${currentLanguage}/`);\n\n      navigate(localizedUrl, { replace: true });\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport type IndexQuery = {\n  site: { siteMetadata: { i18n: { defaultLanguage: Language; languages: Language[] } } };\n};\n\nconst Index: FC = () => {\n  const { site } = useStaticQuery<GatsbyTypes.IndexQuery>(graphql`\n    query Index {\n      site {\n        siteMetadata {\n          i18n {\n            defaultLanguage\n            languages\n          }\n        }\n      }\n    }\n  `);\n\n  return (\n    <Redirector\n      defaultLanguage={site.siteMetadata.i18n.defaultLanguage}\n      languages={site.siteMetadata.i18n.languages}\n    />\n  );\n};\n\nexport default Index;\n"],"names":["Redirector","props","_this","window","defaultLanguage","languages","currentLanguage","getUserLangKey","localizedUrl","withPrefix","navigate","replace","render","PureComponent","site","useStaticQuery","_jsx","siteMetadata","i18n"],"sourceRoot":""}