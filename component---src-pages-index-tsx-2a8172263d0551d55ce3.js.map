{"version":3,"file":"component---src-pages-index-tsx-2a8172263d0551d55ce3.js","mappings":"wKAiBMA,EAAAA,SAAAA,GACJ,WAAYC,GAAyB,IAAD,EAIlC,GAHA,cAAMA,IAAN,KAGsB,oBAAXC,OAAwB,CACjC,IAAQC,EAA+BF,EAA/BE,gBAAiBC,EAAcH,EAAdG,UAEnBC,GAAkBC,EAAAA,EAAAA,gBAAeF,EAAWD,GAE5CI,GAAeC,EAAAA,EAAAA,YAAW,IAAIH,EAAL,MAE/BI,EAAAA,EAAAA,UAASF,EAAc,CAAEG,SAAS,IAXF,SAiBnC,OAlBGV,EAAAA,EAAAA,GAAAA,EAAAA,GAcH,YAEDW,OAAA,WACE,OAAO,MACR,EAlBGX,CAAmBY,EAAAA,eA+CzB,UAtBkB,WAChB,IAAQC,GAASC,EAAAA,EAAAA,gBAAc,cAAvBD,KAaR,OACE,SAACb,EAAD,CACEG,gBAAiBU,EAAKE,aAAaC,KAAKb,gBACxCC,UAAWS,EAAKE,aAAaC,KAAKZ","sources":["webpack://itfarrier/./src/pages/index.tsx"],"sourcesContent":["import 'sanitize.css';\nimport 'sanitize.css/assets.css';\nimport 'sanitize.css/evergreen.css';\nimport 'sanitize.css/forms.css';\nimport 'sanitize.css/forms.evergreen.css';\nimport 'sanitize.css/reduce-motion.css';\nimport 'sanitize.css/typography.css';\n\nimport { FC, PureComponent } from 'react';\n\nimport { graphql, navigate, useStaticQuery, withPrefix } from 'gatsby';\nimport { getUserLangKey } from 'ptz-i18n';\n\nimport { Language } from 'cmpts/LanguageContext';\n\nexport type RedirectorProps = { defaultLanguage: Language; languages: Language[] };\n\nclass Redirector extends PureComponent<RedirectorProps> {\n  constructor(props: RedirectorProps) {\n    super(props);\n\n    // https://www.gatsbyjs.com/docs/debugging-html-builds/#how-to-check-if-window-is-defined\n    if (typeof window !== 'undefined') {\n      const { defaultLanguage, languages } = props;\n\n      const currentLanguage = getUserLangKey(languages, defaultLanguage);\n\n      const localizedUrl = withPrefix(`/${currentLanguage}/`);\n\n      navigate(localizedUrl, { replace: true });\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport type IndexQuery = {\n  site: { siteMetadata: { i18n: { defaultLanguage: Language; languages: Language[] } } };\n};\n\nconst Index: FC = () => {\n  const { site } = useStaticQuery<GatsbyTypes.IndexQuery>(graphql`\n    query Index {\n      site {\n        siteMetadata {\n          i18n {\n            defaultLanguage\n            languages\n          }\n        }\n      }\n    }\n  `);\n\n  return (\n    <Redirector\n      defaultLanguage={site.siteMetadata.i18n.defaultLanguage}\n      languages={site.siteMetadata.i18n.languages}\n    />\n  );\n};\n\nexport default Index;\n"],"names":["Redirector","props","window","defaultLanguage","languages","currentLanguage","getUserLangKey","localizedUrl","withPrefix","navigate","replace","render","PureComponent","site","useStaticQuery","siteMetadata","i18n"],"sourceRoot":""}