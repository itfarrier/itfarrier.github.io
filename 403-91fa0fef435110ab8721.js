"use strict";(self.webpackChunkitfarrier=self.webpackChunkitfarrier||[]).push([[403],{8403:function(i,t,s){s.r(t),s.d(t,{default:function(){return n}});var e=s(2893);const h=i=>{let t=function(i,t){this.bitHue=t,this.id=i},s=function(){function t(t,s,e){this.deadKibbles=0,this.kibbles=[],this.lastDraw=i.millis(),this.speed=i.random(0,100),this.stream=!0,this.from=t,this.theBit=e,this.to=s}var s=t.prototype;return s.createKibble=function(){const t=new e;this.kibbles.push(t),this.lastDraw=i.millis()},s.drawKibbles=function(){this.kibbles.forEach(((t,s)=>{if(i.millis()>t.endTime)this.kibbles.splice(s,1),this.deadKibbles++;else{const s=(i.millis()-t.startTime)/(t.endTime-t.startTime),e=this.from.cxpos*(1-s)+this.to.cxpos*s,h=this.from.cypos*(1-s)+this.to.cypos*s;i.colorMode(i.HSB),i.fill(this.theBit.bitHue,255,255),i.stroke(this.theBit.bitHue,255,255),i.circle(e,h,t.big)}}))},s.manageKibbles=function(){this.from.removing>=1||this.to.removing>=1||this.deadKibbles>125?this.stream=!1:this.lastDraw<i.millis()-this.speed&&this.createKibble()},t}(),e=function(){this.big=i.random(0,4);const t=i.millis();this.endTime=t+5e3,this.startTime=t};const h=[],o=[],n=new function(i){this.bits=[];for(let s=0;s<i;s++){const e=new t(s,255/i*s);this.bits.push(e)}}(30);let l=-1,c=function(){function t(){this.actBits=[],this.chue=0,this.cxpos=0,this.cypos=0,this.ehue=0,this.index=0,this.knex=[],this.lastcheck=i.millis(),this.myBits=[],this.needBits=[],this.percent=i.random(0,1),this.pwait=1e3*i.random(1,9),this.removing=0,this.shue=0,this.smovetime=i.millis(),this.sxpos=0,this.sypos=0;let t=o.length;0===t&&t++,i.push(),i.translate(i.width/2,i.height/2),i.ellipseMode(i.CENTER);i.rotate(i.radians(3)),this.expos=i.width/2+230*i.cos(i.radians(3)),this.eypos=i.height/2+230*i.sin(i.radians(3)),this.emovetime=this.smovetime+1250,i.colorMode(i.HSB),this.ccolor=i.color(this.chue,i.random(0,255),i.random(0,255)),i.pop(),this.setupBits()}var e=t.prototype;return e.bitRequest=function(i,t){if(i.knex.length<4){const e=new s(i,this,t);i.knex.push(this),this.actBits.push(t),h.push(e)}},e.drawSelf=function(){i.fill(this.ccolor),i.stroke(this.myBits.length),i.noStroke(),i.ellipseMode(i.CENTER),i.circle(this.cxpos,this.cypos,50),i.fill(0);const t=n.bits.length-1;i.rect(this.cxpos-t/2,this.cypos-5,t,10),this.myBits.forEach((s=>{i.colorMode(i.HSB),i.fill(s.bitHue,255,255),i.stroke(s.bitHue,255,255);const e=this.cxpos-t/2+s.id;i.line(e,this.cypos-5,e,this.cypos+5)}))},e.findPeer=function(){this.needBits.forEach((t=>{this.needBits=i.shuffle(this.needBits),o.forEach((i=>{!i.myBits.includes(t)||i.removing>0||this.removing>0||i.knex.includes(this)||i.index===this.index||this.actBits.includes(t)||this.bitRequest(i,t)}))}))},e.moveSelf=function(){if(i.millis()>this.emovetime)this.cxpos=this.expos,this.cypos=this.eypos,this.chue=this.ehue;else{const t=(i.millis()-this.smovetime)/(this.emovetime-this.smovetime);this.cxpos=this.sxpos*(1-t)+this.expos*t,this.cypos=this.sypos*(1-t)+this.eypos*t,this.chue=this.shue*(1-t)+this.ehue*t}},e.reConfigure=function(t){let s;i.push(),i.translate(i.width/2,i.height/2),i.ellipseMode(i.CENTER),s=0==o.length?1:o.length,this.index=t;const e=360/s*t+l;i.rotate(i.radians(e)),this.sxpos=this.cxpos,this.sypos=this.cypos,this.expos=i.width/4*i.cos(i.radians(e)),this.eypos=i.height/4*i.sin(i.radians(e)),this.smovetime=i.millis(),this.emovetime=this.smovetime+3e3,i.pop(),this.shue=this.chue,this.ehue=(255/o.length-1)*t,this.ccolor=i.color(this.chue,255,255,133)},e.setupBits=function(){n.bits.forEach((i=>{this.myBits.includes(i)||this.needBits.push(i)}))},t}();function r(){o.push(new c)}function a(){const i=new c;o.push(i),n.bits.forEach((t=>{i.myBits.push(t)})),i.needBits=[]}i.keyPressed=()=>{"p"===i.key&&r(),"s"===i.key&&a(),"r"!==i.key&&i.keyCode!==i.DELETE&&i.keyCode!==i.BACKSPACE||(i.random(o).removing=1)},i.setup=()=>{const t=i.windowWidth>i.windowHeight?i.windowHeight:i.windowWidth;i.createCanvas(t,t,i.WEBGL),i.textAlign(i.CENTER);for(let i=0;i<1;i++)a();for(let i=0;i<5;i++)r()},i.draw=()=>{i.background(0,0),l>=0&&(l<360?l+=.2:l-=360),h.forEach(((i,t)=>{i.manageKibbles(),i.drawKibbles(),i.kibbles.length||i.stream||(i.to.removing>=1&&i.to.removing++,i.from.removing>=1&&i.from.removing++,i.from.knex.splice(i.from.knex.indexOf(i.to),1),i.to.myBits.push(i.theBit),i.to.needBits.includes(i.theBit)&&i.to.needBits.splice(i.to.needBits.indexOf(i.theBit),1),i.to.knex.includes(i.theBit)&&i.to.knex.splice(i.to.knex.indexOf(i.theBit),1),h.splice(t,1))})),o.forEach(((i,t)=>{i.moveSelf(),i.drawSelf(),i.reConfigure(t),i.removing>1&&o.splice(t,1)})),i.shuffle(o).forEach((t=>{t.lastcheck<i.millis()-t.pwait&&(t.findPeer(),t.lastcheck=i.millis())}))}};var o=s(4848);var n=i=>{let{fallback:t,footerText:s}=i;return(0,o.jsxs)("div",{style:{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:0,position:"absolute",top:0,width:"100%",zIndex:-1},children:[(0,o.jsx)(e.W,{fallback:t,sketch:h}),(0,o.jsx)("span",{style:{bottom:"1rem",position:"absolute",right:"1rem"},children:s})]})}}}]);
//# sourceMappingURL=403-91fa0fef435110ab8721.js.map